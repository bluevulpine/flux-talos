{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  packageRules: [
    {
      description: "Disable digest pinning for Flux OCIRepository (Helm charts)",
      matchManagers: ["flux"],
      pinDigests: false,
    },
    {
      description: "Override Helmfile Dependency Name",
      matchDatasources: ["docker"],
      matchManagers: ["helmfile"],
      overrideDepName: "{{packageName}}",
    },
    {
      description: "Override Talos Installer Package Name",
      matchDatasources: ["docker"],
      matchPackageNames: ["/factory\\.talos\\.dev/"],
      overridePackageName: "ghcr.io/siderolabs/installer",
    },
    {
      description: "Calibre-Web: Only allow 0.x versions (5.x is a different versioning scheme)",
      matchDatasources: ["docker"],
      matchPackageNames: ["ghcr.io/linuxserver/calibre-web"],
      allowedVersions: "/^0\\./",
    },
    {
      description: "Disable digest pinning for packages with lookup issues",
      matchDatasources: ["docker"],
      matchPackageNames: [
        "ghcr.io/tarmslitaren/x-haven-server",
        "docker.io/mbround18/valheim",
        "quay.io/thanos/thanos",
      ],
      pinDigests: false,
    },
    {
      description: "Ignore tailscale-node-remover (uses unversioned 'main' tag)",
      matchDatasources: ["docker"],
      matchPackageNames: ["simonhaas/tailscale-node-remover"],
      enabled: false,
    },
  ],
}
