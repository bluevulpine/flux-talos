---
apiVersion: v1
kind: ConfigMap
metadata:
  name: recyclarr-configmap
data:
  recyclarr.yml: |
    # yaml-language-server: $schema=https://raw.githubusercontent.com/recyclarr/recyclarr/master/schemas/config-schema.json
    # Configuration for Recyclarr - syncs TRaSH Guides quality profiles
    # Docs: https://recyclarr.dev/wiki/yaml/config-reference/
    # Templates: run `recyclarr config list templates` to see all available

    sonarr:
      sonarr:
        base_url: http://sonarr.media.svc.cluster.local:8989
        api_key: !env_var SONARR_API_KEY
        delete_old_custom_formats: true

        include:
          # Quality sizes (only needed once per instance)
          - template: sonarr-quality-definition-series
          # WEB-1080p profile
          - template: sonarr-v4-quality-profile-web-1080p
          - template: sonarr-v4-custom-formats-web-1080p
          # WEB-2160p (4K) profile
          - template: sonarr-v4-quality-profile-web-2160p
          - template: sonarr-v4-custom-formats-web-2160p
          # Anime profile
          - template: sonarr-v4-quality-profile-anime
          - template: sonarr-v4-custom-formats-anime

        quality_profiles:
          - name: WEB-1080p
            reset_unmatched_scores:
              enabled: true
          - name: WEB-2160p
            reset_unmatched_scores:
              enabled: true
          - name: Remux-1080p - Anime
            reset_unmatched_scores:
              enabled: true

    radarr:
      radarr:
        base_url: http://radarr.media.svc.cluster.local:7878
        api_key: !env_var RADARR_API_KEY
        delete_old_custom_formats: true

        include:
          # Quality sizes (only needed once per instance)
          - template: radarr-quality-definition-movie
          # HD Bluray + WEB (1080p) profile
          - template: radarr-quality-profile-hd-bluray-web
          - template: radarr-custom-formats-hd-bluray-web
          # UHD Bluray + WEB (4K) profile
          - template: radarr-quality-profile-uhd-bluray-web
          - template: radarr-custom-formats-uhd-bluray-web
          # Remux + WEB 1080p (highest quality 1080p)
          - template: radarr-quality-profile-remux-web-1080p
          - template: radarr-custom-formats-remux-web-1080p
          # Remux + WEB 2160p (highest quality 4K)
          - template: radarr-quality-profile-remux-web-2160p
          - template: radarr-custom-formats-remux-web-2160p
          # Anime profile
          - template: radarr-quality-profile-anime
          - template: radarr-custom-formats-anime

        quality_profiles:
          - name: HD Bluray + WEB
            reset_unmatched_scores:
              enabled: true
          - name: UHD Bluray + WEB
            reset_unmatched_scores:
              enabled: true
          - name: Remux + WEB 1080p
            reset_unmatched_scores:
              enabled: true
          - name: Remux + WEB 2160p
            reset_unmatched_scores:
              enabled: true
          - name: Remux-1080p - Anime
            reset_unmatched_scores:
              enabled: true

