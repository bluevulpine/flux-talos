---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: "${APP}"
spec:
  accessModes: ["${VOLSYNC_ACCESSMODES:-ReadWriteOnce}"]
  # NOTE: dataSourceRef removed for initial deployment when no backup exists
  # To restore from backup, manually set dataSourceRef to the ReplicationDestination
  # dataSourceRef:
  #   kind: ReplicationDestination
  #   apiGroup: volsync.backube
  #   name: "${APP}-dst-r2"
  resources:
    requests:
      storage: "${VOLSYNC_CAPACITY:-20Gi}"
  storageClassName: "${VOLSYNC_STORAGECLASS:-longhorn}"

